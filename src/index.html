<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Flagship Truth or Dare - Ultimate Edition</title>

    <!-- PWA & Mobile Meta -->
    <meta name="theme-color" content="#121212" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="apple-mobile-web-app-title" content="T or D" />
    <link rel="apple-touch-icon" href="icon-192.png" />
    <link rel="manifest" href="manifest.json" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700&amp;family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap"
      rel="stylesheet"
    />

    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
    ></script>

    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
    <script src="data.js"></script>
    <script src="data_casual.js"></script>
    <script src="data_family.js"></script>
    <script src="data_adult.js"></script>
    <script src="data_bestie.js"></script>
    <script src="data_couple.js"></script>
    <script src="data_punishments.js"></script>
    <script src="utils.js"></script>
    <script src="firebase-config.js"></script>
    <script src="sound-manager.js"></script>

    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              "luxury-gold": "#D4AF37",
              skin: {
                base: "var(--bg-color)",
                card: "var(--card-bg)",
                text: "var(--text-primary)",
                muted: "var(--text-muted)",
                accent: "var(--accent-color)",
                border: "var(--border-color)",
              },
            },
            fontFamily: {
              sans: ["Inter", "system-ui", "sans-serif"],
              serif: ["Playfair Display", "serif"],
            },
            animation: {
              "fade-in": "fadeIn 0.2s ease-out",
              "pulse-slow": "pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite",
            },
            keyframes: {
              fadeIn: {
                "0%": { opacity: "0", transform: "translateY(-10px)" },
                "100%": { opacity: "1", transform: "translateY(0)" },
              },
            },
          },
        },
      };
    </script>

    <style>
      /* 貴族風 (預設) - 質感黑金 */
      :root {
        --bg-color: #121212;
        --card-bg: #1e1e1e;
        --text-primary: #e5e5e5;
        --text-muted: #666666;
        --accent-color: #d4af37;
        --border-color: #333333;
      }

      /* 派對風 - 活力淺色 */
      .theme-party {
        --bg-color: #f0f2f5;
        --card-bg: #ffffff;
        --text-primary: #2d3748;
        --text-muted: #a0aec0;
        --accent-color: #845ec2;
        --border-color: #e2e8f0;
      }

      body {
        background-color: var(--bg-color);
        color: var(--text-primary);
        transition: background-color 0.5s ease, color 0.5s ease;
      }

      /* 自定義滾動條 */
      .custom-scrollbar::-webkit-scrollbar {
        width: 4px;
      }
      .custom-scrollbar::-webkit-scrollbar-track {
        background: transparent;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb {
        background-color: var(--text-muted);
        border-radius: 20px;
      }

      /* 3D 翻轉工具 */
      .perspective-1000 {
        perspective: 1000px;
      }
      .transform-style-3d {
        transform-style: preserve-3d;
      }
      .backface-hidden {
        backface-visibility: hidden;
      }
      .rotate-y-180 {
        transform: rotateY(180deg);
      }

      .mask-fade-sides {
        mask-image: linear-gradient(
          to right,
          transparent,
          black 15%,
          black 85%,
          transparent
        );
        -webkit-mask-image: linear-gradient(
          to right,
          transparent,
          black 15%,
          black 85%,
          transparent
        );
      }

      /* 3D 骰子樣式 */
      .dice-scene {
        perspective: 600px;
        width: 200px;
        height: 200px;
      }
      .dice-cube {
        width: 100%;
        height: 100%;
        position: relative;
        transform-style: preserve-3d;
        transition: transform 1s cubic-bezier(0.2, 0.8, 0.2, 1);
      }
      .dice-face {
        position: absolute;
        width: 200px;
        height: 200px;
        background: var(--card-bg);
        border: 4px solid var(--accent-color);
        border-radius: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: inset 0 0 40px rgba(0, 0, 0, 0.1);
        backface-visibility: hidden; /* 隱藏背面以避免視覺干擾 */
      }
      /* 確保背面不透明，避免穿透 */
      .dice-face::before {
        content: "";
        position: absolute;
        inset: 0;
        background: var(--card-bg);
        border-radius: 26px;
        z-index: -1;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel" src="./logic.js"></script>
  </body>
</html>
